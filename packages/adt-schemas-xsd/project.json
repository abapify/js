{
  "name": "adt-schemas-xsd",
  "targets": {
    "download": {
      "command": "npx p2 download https://tools.hana.ondemand.com/latest -o .cache -f 'com.sap.adt.*' --extract --extract-output .xsd/sap --extract-patterns 'model/*.xsd' && npx tsx scripts/normalize-xsd.ts .xsd/sap",
      "options": {
        "cwd": "{projectRoot}"
      },
      "dependsOn": [],
      "inputs": [],
      "outputs": ["{projectRoot}/.cache", "{projectRoot}/.xsd/sap"],
      "cache": false
    },
    "generate": {
      "command": "npx ts-xsd codegen -c tsxsd.config.ts && npx ts-xsd codegen -c tsxsd.custom.config.ts",
      "options": {
        "cwd": "{projectRoot}"
      },
      "dependsOn": ["download", "ts-xsd:build"],
      "inputs": ["{projectRoot}/.xsd/**/*.xsd", "{projectRoot}/tsxsd.config.ts", "{projectRoot}/tsxsd.custom.config.ts"],
      "outputs": ["{projectRoot}/src/schemas/generated"]
    }
  }
}
