{
  "name": "adt-schemas",
  "targets": {
    "download": {
      "command": "npx p2 download https://tools.hana.ondemand.com/latest -o .cache -f 'com.sap.adt.*' --extract --extract-output .xsd/sap --extract-patterns 'model/*.xsd' && npx tsx scripts/normalize-xsd.ts .xsd/sap && cp .xsd/custom/Ecore.xsd .xsd/sap/",
      "options": {
        "cwd": "{projectRoot}"
      },
      "dependsOn": [],
      "inputs": [],
      "outputs": ["{projectRoot}/.cache", "{projectRoot}/.xsd/sap"],
      "cache": false
    },
    "codegen": {
      "command": "npx ts-xsd codegen --verbose",
      "options": {
        "cwd": "{projectRoot}"
      },
      "dependsOn": ["download", "ts-xsd:build"],
      "inputs": ["{projectRoot}/.xsd/**/*.xsd", "{projectRoot}/ts-xsd.config.ts"],
      "outputs": ["{projectRoot}/src/schemas/generated"]
    },
    "typecheck:test": {
      "executor": "nx:run-commands",
      "options": {
        "command": "npx tsc -p tsconfig.test.json --noEmit",
        "cwd": "{projectRoot}"
      }
    }
  }
}
